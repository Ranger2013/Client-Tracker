// @ts-nocheck
import{myError,mySuccess}from"../../../utils/dom/domUtils.js";import{helpDeskTicket}from"../../../utils/error-messages/errorMessages";import{addListener}from"../../../utils/event-listeners/listeners.js";export default async function addMileage(){try{const e=document.getElementById("client-list-button"),t=document.getElementById("destination-button"),s=document.getElementById("destination-container");addListener(e,"click",(async()=>{const{default:e}=await import("./helpers/buildClientListSelect.js");e(s)})),addListener(t,"click",(async()=>{const{default:e}=await import("./helpers/buildDestinationInput.js");e(s)})),addListener("mileage-form","submit",(async e=>{e.preventDefault();const{default:t}=await import("./helpers/handleMileageFormSubmission.js"),r=await t(e);"success"===r.status?(s.innerHTML="",e.target.reset(),mySuccess("form-msg",r.msg)):"validation-error"===r.status?myError("form-msg",r.msg):myError("form-msg","There was an error adding the mileage.")}))}catch(e){const{handleError:t}=await import("../../../utils/error-messages/handleError.js");await t("addMileageError","Add mileage error: ",e,`There was an issue on the page.<br>${helpDeskTicket}`,"form-msg")}}