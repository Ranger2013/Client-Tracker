// @ts-nocheck
import{clearMsg,top}from"../../../../utils/dom/domUtils.js";import{addListener}from"../../../../utils/event-listeners/listeners.js";import backUpDataToServer from"./helpers/backupDataToServer.js";import buildBackupPageElements from"./helpers/buildBackupPageElements.js";export default async function displayBackupDataPage(a,r,e){a.preventDefault();try{clearMsg({container:r});const[a,t,o]=await buildBackupPageElements();e.innerHTML="",e.append(a);const s=document.getElementById("backup-data-button");if(!s)return;addListener(s,"click",(async a=>{try{await backUpDataToServer(a,t,o)&&s.parentElement.remove()}catch(a){const{handleError:e}=await import("../../../../utils/error-messages/handleError.js");await e("backupDataError","Error backing up data:",a,"An error occurred while trying to back up the data.",r),top()}}))}catch(a){const{handleError:e}=await import("../../../../utils/error-messages/handleError.js");await e("displayBackupPageError","Display backup page error:",a,"Unable to retrieve local data for backing up",r)}}