// @ts-nocheck
import{validationToken}from"../../../../tracker.js";import{mySuccess}from"../../../../utils/dom/domUtils.js";import{getSubscriptionAPI}from"../../../../utils/network/apiEndpoints.js";export default async function displaySubscriptionPage(t,e,s){t.preventDefault();try{setActiveTab(t,tabs,e),mySuccess(e,"Loading...","w3-text-blue"),s.innerHTML="";const i=await fetchData({api:getSubscriptionAPI,token:validationToken});if("ok"===i.status)if(s.innerHTML=i.msg,"guest"===i.page)try{const{default:t}=await import("./helpers/subscriptions/handleSubscriptionGuestPage.js");await setupGuestSubscriptionListeners()}catch(t){console.warn("Error dealing with the guest subscription: ",t),myError(e,"There was an issue getting you subscribed.<br>Please submit a new Help Desk Ticket for this issue."),top()}else if("member"===i.page)try{const{default:t}=await import("./helpers/subscriptions/handleLinkToggles.js"),{default:s}=await import("./helpers/subscriptions/handleSubscriptionUpgradeButtonListeners.js"),{default:i}=await import("./helpers/subscriptions/handleSubscriptionCancelationListener.js");t(),s(),i(e),handleSubscriptionRactivationListener(e)}catch(t){console.warn("Error dealing with the member subscription page: ",t),myError(e,t),top()}}catch(t){console.warn("error fetching the subscription page from the server: ",t),t instanceof CustomError&&myError(modalMsg)}}