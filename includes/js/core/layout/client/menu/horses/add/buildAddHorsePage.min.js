// @ts-nocheck
import{buildEle,buildElementsFromConfig}from"../../../../../utils/dom/elements.js";import{trimCycleConfigurations}from"../../../../../utils/dom/forms/trimCycleConfigurations.js";import{removeListeners}from"../../../../../utils/dom/listeners.js";import{clearMsg}from"../../../../../utils/dom/messages.js";import{cleanUserOutput}from"../../../../../utils/string/stringUtils.js";import buildPageContainer from"../../../../components/buildPageContainer.js";import buildSubmitButtonSection from"../../../../components/buildSubmitButtonSection.js";import buildTwoColumnInputSection from"../../../../components/buildTwoColumnInputSection.js";import buildTwoColumnRadioButtonSection from"../../../../components/buildTwoColumnRadioButtonSection.js";import buildTwoColumnSelectElementSection from"../../../../components/buildTwoColumnSelectElementSection.js";const COMPONENT_ID="add-horse",COMPONENT="Add Horse Page",DEBUG=!0,debugLog=(...e)=>{console.log(`[${COMPONENT}]`,...e)};export default async function buildAddHorsePage({cID:e,primaryKey:t,mainContainer:o,manageClient:r,manageUser:i}){try{if(clearMsg({container:"page-msg"}),!e||!t)throw new Error("Unable to build the add horse page. Certain parameters are missing.");const n=await r.getClientInfo({primaryKey:t}),[[s,a],l]=await Promise.all([buildPageContainer({pageTitle:"Add Horse for ",clientName:cleanUserOutput(n.client_name),cID:e,primaryKey:t}),buildHorseForm()]);o.innerHTML="",a.append(l),s.append(a),o.append(s);const{default:m}=await import("../../../../../../features/client/ui/add-horse/addNewHorseJS.js");return await m({cID:e,primaryKey:t,mainContainer:o,manageClient:r,manageUser:i,componentId:"add-horse"}),()=>removeListeners("add-horse")}catch(e){throw e}}async function buildHorseForm(){try{const e=buildEle({type:"form",attributes:{id:"add-horse-form"}}),[t,o,r,i]=await Promise.all([buildTwoColumnInputSection({labelText:"Name of Horse: ",inputID:"horse-name",inputType:"text",inputName:"horse_name",inputTitle:"Horse's Name",required:!0}),buildTwoColumnRadioButtonSection({labelText:"Service Type: ",buttons:[{name:"service_type",value:"trim",labelText:"Trim: ",checked:!0},{name:"service_type",value:"half_set",labelText:"Half Set Shoes: "},{name:"service_type",value:"full_set",labelText:"Full Set Shoes: "}]}),buildTwoColumnSelectElementSection({labelText:"Trim Cycle: ",selectID:"trim-cycle",selectName:"trim_cycle",selectTitle:"Trim Cycle",required:!0,options:trimCycleConfigurations()}),buildSubmitButtonSection("Add New Horse")]);return e.append(t,o,r,i),e}catch(e){const{AppError:t}=await import("../../../../../errors/models/AppError.js");t.process(e,{errorCode:t.Types.RENDER_ERROR,userMessage:t.BaseMessages.system.render},!0)}}