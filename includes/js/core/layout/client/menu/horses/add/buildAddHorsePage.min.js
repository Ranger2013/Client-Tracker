// @ts-nocheck
import{buildEle,buildElementsFromConfig}from"../../../../../utils/dom/elements.js";import{buildPageContainer,buildSubmitButtonSection,buildTwoColumnInputSection,buildTwoColumnRadioButtonSection,buildTwoColumnSelectElementSection}from"../../../../../utils/dom/forms/buildUtils.js";import{trimCycleConfigurations}from"../../../../../utils/dom/forms/trimCycleConfigurations.js";import{removeListeners}from"../../../../../utils/dom/listeners.js";import{clearMsg}from"../../../../../utils/dom/messages.js";import{cleanUserOutput}from"../../../../../utils/string/stringUtils.js";const COMPONENT_ID="add-horse",COMPONENT="Add Horse Page",DEBUG=!1,debugLog=(...e)=>{false};export default async function buildAddHorsePage({cID:e,primaryKey:t,mainContainer:o,manageClient:r,manageUser:i}){try{if(clearMsg({container:"page-msg"}),!e||!t)throw new Error("Unable to build the add horse page. Certain parameters are missing.");const n=await r.getClientInfo({primaryKey:t}),[[l,s],a]=await Promise.all([buildPageContainer({pageTitle:"Add Horse for ",clientName:cleanUserOutput(n.client_name),cID:e,primaryKey:t}),buildHorseForm()]);o.innerHTML="",s.append(a),l.append(s),o.append(l);const{default:m}=await import("../../../../../../features/client/ui/add-horse/addNewHorseJS.js");return await m({cID:e,primaryKey:t,mainContainer:o,manageClient:r,manageUser:i,componentId:"add-horse"}),()=>removeListeners("add-horse")}catch(e){throw e}}async function buildHorseForm(){try{const e=buildEle({type:"form",attributes:{id:"add-horse-form"}}),[t,o,r,i,n]=await Promise.all([buildTwoColumnInputSection({labelText:"Name of Horse: ",inputID:"horse-name",inputType:"text",inputName:"horse_name",inputTitle:"Horse's Name",required:!0}),buildTwoColumnSelectElementSection({labelText:"Type of Horse: ",selectID:"horse-type",selectName:"horse_type",selectTitle:"Type of Horse",required:!0,options:typeHorseOptions()}),buildTwoColumnRadioButtonSection({labelText:"Service Type: ",buttons:[{name:"service_type",value:"trim",labelText:"Trim: ",checked:!0},{name:"service_type",value:"half_set",labelText:"Half Set Shoes: "},{name:"service_type",value:"full_set",labelText:"Full Set Shoes: "}]}),buildTwoColumnSelectElementSection({labelText:"Trim Cycle: ",selectID:"trim-cycle",selectName:"trim_cycle",selectTitle:"Trim Cycle",required:!0,options:trimCycleConfigurations()}),buildSubmitButtonSection("Add New Horse")]);return e.append(t,o,r,i,n),e}catch(e){const{AppError:t}=await import("../../../../../errors/models/AppError.js");t.process(e,{errorCode:t.Types.RENDER_ERROR,userMessage:t.BaseMessages.system.render},!0)}}function typeHorseOptions(){return[{value:"null",text:"-- Select Horse Type --"},{value:"horse",text:"Horse"},{value:"draft",text:"Draft"},{value:"mule",text:"Mule"},{value:"donkey",text:"Donkey"},{value:"mini_donkey",text:"Mini Donkey"},{value:"pony",text:"Pony"},{value:"mini_pony",text:"Mini Pony"}]}