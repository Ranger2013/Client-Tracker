// @ts-nocheck
import{sortByDateOnly}from"../../../../../utils/date/dateUtils.js";import{buildEle,buildElementsFromConfig}from"../../../../../utils/dom/elements.js";import{cleanUserOutput}from"../../../../../utils/string/stringUtils.js";const PAGE_CONFIG={infoBlock:{type:"div",attributes:{id:"personal-notes-icon"},myClass:["w3-pointer","w3-hide"],text:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n\t\t\t  <circle cx="12" cy="12" r="10"></circle>\n\t\t\t  <line x1="12" y1="18" x2="12" y2="10"></line>\n\t\t\t  <line x1="12" y1="6" x2="12" y2="6"></line>\n\t\t </svg>'},notesBlock:{type:"div",attributes:{id:"personal-notes-block"},myClass:["w3-border-left","w3-borer-top","w3-borer-right","w3-hide","collapsed","slide-down"]}},NOTES_CONFIG={notesRow:{type:"div",myClass:["w3-row","w3-border-bottom"]},colOne:{type:"div",myClass:["w3-col","m3","w3-padding-small"]},colTwo:{type:"div",myClass:["w3-col","m9","w3-padding-small"]}};export default async function buildPersonalNotesSection({manageUser:t}){try{let e=null;const o=document.createDocumentFragment(),n=await t.getUserPersonalNotes(),l=buildElementsFromConfig(PAGE_CONFIG);return n.length>0&&(n.sort(((t,e)=>sortByDateOnly(t.date,e.date,!1))),e=buildNotesFromConfig(NOTES_CONFIG),l.append(...e)),o.append(l.infoBlock,l.notesBlock),o}catch(t){console.log(t)}}function buildNotesFromConfig({config:t,notes:e}){return e.map((e=>{const o=buildEle(t.notesRow),n=buildEle({...t.colOne,text:cleanUserOutput(e.date)}),l=buildEle({...t.colTwo,text:cleanUserOutput(e.note)});return o.append(n,l),o}))}