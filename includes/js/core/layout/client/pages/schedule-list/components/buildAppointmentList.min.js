// @ts-nocheck
import processClientList from"./processClientList.js";export default async function buildAppointmentList({active:t,clientId:e,primaryKey:n,manageClient:i,manageUser:a}){try{const r=await fetchClientList({active:t,clientId:e,primaryKey:n,manageClient:i});if(!r?.length)return[document.createDocumentFragment(),0];const o=await a.getSettings(),{color_options:c,date_time:s}=o,l=new Set;let m=0;await handleNoSettings({colorOptions:c,dateTime:s});const y=document.createDocumentFragment();return await processClientList({clientList:r,active:t,primaryKey:n,fragment:y,uniqueClientIds:l,counter:m,colorOptions:c,dateTime:s}),y}catch(t){throw t}}async function fetchClientList({active:t,clientId:e,primaryKey:n,manageClient:i}){try{if(!t||"yes"!==t&&"no"!==t){Number(clientID);return await i.getClientInfo({primaryKey:n})}return await i.getClientScheduleList()}catch(t){throw t}}async function handleNoSettings({colorOptions:t,dateTime:e}){try{let n="";0===Object.keys(t).length&&(n+="Please set your color options in the settings.<br>"),0===Object.keys(e).length&&(n+="Please set your date and time options in the settings."),""!==n&&myError("page-msg",n)}catch(t){throw t}}