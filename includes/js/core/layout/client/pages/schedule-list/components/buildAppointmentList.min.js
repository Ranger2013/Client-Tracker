// @ts-nocheck
import processClientList from"./processClientList.min.js";export default async function buildAppointmentList({active:t,clientId:e,primaryKey:n,manageClient:i,manageUser:a}){try{const r=await fetchClientList({active:t,clientId:e,primaryKey:n,manageClient:i});if(!r?.length&&0===Object.keys(r).length)return document.createDocumentFragment();const o=Array.isArray(r)?r:[r],s=await a.getSettings(),{color_options:c,date_time:l}=s,m=new Set;let y=0;await handleNoSettings({colorOptions:c,dateTime:l});const g=document.createDocumentFragment();return await processClientList({clientList:o,active:t,primaryKey:n,fragment:g,uniqueClientIds:m,counter:y,colorOptions:c,dateTime:l}),g}catch(t){throw t}}async function fetchClientList({active:t,clientId:e,primaryKey:n,manageClient:i}){try{return!t||"yes"!==t&&"no"!==t?await i.getClientInfo({primaryKey:n}):await i.getClientScheduleList()}catch(t){throw t}}async function handleNoSettings({colorOptions:t,dateTime:e}){try{let n="";0===Object.keys(t).length&&(n+="Please set your color options in the settings.<br>"),0===Object.keys(e).length&&(n+="Please set your date and time options in the settings."),""!==n&&myError("page-msg",n)}catch(t){throw t}}