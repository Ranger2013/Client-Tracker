// @ts-nocheck
import{buildElementTree}from"../../../../../../utils/dom/elements.js";export default function buildOverviewWidget(t){const{totalClients:e,totalActiveClients:s,totalInactiveClients:l,totalHorses:i,totalActiveHorses:n,totalInactiveHorses:a,clientsByHorseCount:d}=t,r={type:"div",children:[{type:"div",myClass:["w3-margin-bottom"],children:[{type:"div",myClass:["w3-card","w3-round","w3-padding-small","w3-margin-bottom"],children:[{type:"h4",myClass:["w3-center"],text:"Client Statistics"},{type:"div",myClass:["w3-row","w3-padding-small"],children:[{type:"div",myClass:["w3-col","s12"],text:`<strong>Total Clients:</strong> ${e}`},{type:"div",myClass:["w3-col","s12","w3-padding-small","w3-margin-left"],text:`<span>├─ Active: ${s} (${Math.round(s/e*100)||0}%)</span>`},{type:"div",myClass:["w3-col","s12","w3-padding-small","w3-margin-left"],text:`<span>└─ Inactive: ${l} (${Math.round(l/e*100)||0}%)</span>`}]}]},{type:"div",myClass:["w3-card","w3-round","w3-padding-small","w3-margin-bottom"],children:[{type:"div",myClass:["w3-row","w3-padding-small"],children:[{type:"div",myClass:["w3-col","s12"],text:`<strong>Total Horses:</strong> ${i}`},{type:"div",myClass:["w3-col","s12","w3-padding-small","w3-margin-left"],text:`<span>├─ Active: ${n} (${Math.round(n/i*100)||0}%)</span>`},{type:"div",myClass:["w3-col","s12","w3-padding-small","w3-margin-left"],text:`<span>└─ Inactive: ${a} (${Math.round(a/i*100)||0}%)</span>`}]}]}]},{type:"div",myClass:["w3-card","w3-round"],children:[{type:"h4",myClass:["w3-center"],text:"Client Distribution"},{type:"div",id:"distribution-list",children:buildDistributionItems(d)}]}]};return buildElementTree(r)}function buildDistributionItems(t){const e=Object.keys(t).map((t=>parseInt(t,10))).sort(((t,e)=>t-e)),s=Math.max(...e.map((e=>t[e].length)));return[{type:"div",myClass:["w3-padding-small"],children:[{type:"div",text:"Number of clients grouped by how many horses they own"},{type:"div",myClass:["w3-small","w3-text-grey","w3-padding-small"],text:"Tap on any bar to view client details"}]},...e.map((e=>{const l=t[e];return{type:"div",myClass:["w3-padding-small"],children:[{type:"div",myClass:["w3-row"],children:[{type:"div",myClass:["w3-col","s4","m3"],text:`Horses: ${e}`},{type:"div",myClass:["w3-col","s8","m9"],children:[{type:"div",myClass:["w3-light-grey","w3-round-small"],children:[{type:"div",attributes:{"data-horses":e,style:`width:${Math.max(30,Math.round(l.length/s*100))}%; \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  background-color:#2196F3; \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  color:white; \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  padding:3px 8px;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  border:1px solid #1565c0;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  white-space:nowrap;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  overflow:hidden;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  text-overflow:ellipsis;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  cursor:pointer;`},myClass:["w3-container","w3-round-small","w3-pointer","w3-hover-dark-gray"],children:[{type:"span",text:`${l.length} client${1!==l.length?"s":""}`}]}]}]}]}]}}))]}