// @ts-nocheck
import{buildEle}from"../../../../../utils/dom/elements.js";import{buildPageContainer,buildSubmitButtonSection,buildTwoColumnInputSection,buildTwoColumnSelectElementSection,buildTwoColumnTextareaSection}from"../../../../../utils/dom/forms/buildUtils.js";import{removeListeners}from"../../../../../utils/dom/listeners.js";import{clearMsg}from"../../../../../utils/dom/messages.js";const COMPONENT="Build Add Expenses Page",DEBUG=!1,debugLog=(...e)=>{false},COMPONENT_ID="add-expenses",CATEGORY_OPTIONS=[{value:"null",text:"-- Select a Category --"},{value:"1",text:"Tools/Supplies"},{value:"2",text:"Attire"},{value:"3",text:"Schools"},{value:"4",text:"Advertising"},{value:"5",text:"Food"},{value:"6",text:"Misc"}];export default async function buildExpensesPage({mainContainer:e,manageClient:t,manageUser:n}){try{clearMsg({container:"page-msg"});const[i,o]=await Promise.all([buildPageComponents(),buildFormComponents()]);return renderPage({mainContainer:e,pageComponents:i,formComponents:o}),await initializeUIFunction({mainContainer:e,manageClient:t,manageUser:n,componentId:COMPONENT_ID}),()=>removeListeners(COMPONENT_ID)}catch(e){throw e}}async function buildPageComponents(){const[e,t]=await buildPageContainer({pageTitle:"Add Expenses"});return{container:e,card:t}}async function buildFormComponents(){const e=buildEle({type:"form",attributes:{id:"add-expenses-form"}}),[t,n,i,o,a,r]=await Promise.all([buildTwoColumnInputSection({labelText:"Store:",inputID:"store",inputType:"text",inputName:"store",inputTitle:"Store Name",required:!0}),buildTwoColumnInputSection({labelText:"Date:",inputID:"date",inputType:"date",inputName:"date",inputTitle:"Date of Purchase",required:!0,inputValue:(new Date).toISOString().slice(0,10)}),buildTwoColumnSelectElementSection({labelText:"Category:",selectID:"category",selectName:"category",selectTitle:"Category of Expense",required:!0,options:CATEGORY_OPTIONS}),buildTwoColumnInputSection({labelText:"Price:",inputID:"price",inputType:"number",inputName:"price",inputTitle:"Total Price of Purchase",required:!0,additionalElement:buildEle({type:"span",myClass:["w3-text-red","w3-small"],text:"Do not use a $ sign."})}),buildTwoColumnTextareaSection({labelText:"Item Description:",textareaID:"item-description",textareaName:"item_description",textareaTitle:"Description of Purchase",required:!0,rows:10}),buildSubmitButtonSection("Add Expenses")]);return{form:e,storeSection:t,dateSection:n,categorySection:i,priceSection:o,itemDescriptionSection:a,submitButtonSection:r}}function renderPage({mainContainer:e,pageComponents:t,formComponents:n}){const{container:i,card:o}=t,{form:a,...r}=n;a.append(...Object.values(r)),o.append(a),i.append(o),e.innerHTML="",e.append(i)}async function initializeUIFunction({mainContainer:e,manageClient:t,manageUser:n,componentId:i}){const{default:o}=await import("../../../../../../features/user/ui/expenses/add/expensesJS.js");o({mainContainer:e,manageClient:t,manageUser:n,componentId:i,categoryOptions:CATEGORY_OPTIONS})}