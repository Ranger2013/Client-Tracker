// @ts-nocheck
export const staticCacheName="static-cache-v4";export const dynamicCacheName="dynamic-cache-v4";const noCache=["AJAX","sw","API","online"];export async function cacheFirst(a){try{const c=await caches.match(a.request);if(c)return c;try{const c=await fetch(a.request);if(c.ok){const e=await caches.open(dynamicCacheName);return await e.put(a.request,c.clone()),c}return handleFallback(a)}catch(c){return handleFallback(a)}}catch(a){return caches.match("/tracker/public/src/libs/trackerFallBackPage.php")}}export async function networkFirst(a){try{const c=await fetch(a.request);if(c.ok){if(noCache.some((c=>a.request.url.includes(c))))return c;try{const e=await caches.open(dynamicCacheName);await e.put(a.request,c.clone())}catch(a){console.warn("Caching Error:",a)}return c}const e=await caches.match(a.request);return e||handleFallback(a)}catch(c){console.warn("Network Error:",c);const e=await caches.match(a.request);return e||handleFallback(a)}}async function handleFallback(a){try{const c=await caches.match(a.request);return c||("script"===a.request.destination?new Response("// Empty script fallback",{headers:{"Content-Type":"application/javascript"}}):caches.match("/tracker/public/src/libs/trackerFallBackPage.php"))}catch(a){return console.warn("Fallback Error:",a),new Response("Service Unavailable",{status:503,statusText:"Service Unavailable"})}}