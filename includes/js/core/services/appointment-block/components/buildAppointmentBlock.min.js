// @ts-nocheck
import selectPage from"../../../navigation/services/selectPage.js";import{buildEle}from"../../../utils/dom/elements.js";import{addListener}from"../../../utils/dom/listeners.js";export default async function buildAppointmentBlock({appointmentContainer:e,appointments:t,date:n,manageClient:i,manageUser:a,componentId:s}){try{const r=buildEle({type:"div",myClass:["w3-yellow","w3-padding-small"]}),l=buildEle({type:"h6",myClass:["w3-center"],text:`Bookings for ${n}`}),p=buildEle({type:"div",myClass:["w3-center","w3-small"],text:"Appointment block times are a prediction based on your clients service history plus your drive time."});r.appendChild(l),r.appendChild(p),t.forEach((e=>{const t=buildEle({type:"a",myClass:["w3-underline"],attributes:{href:`/tracker/clients/appointments/?cID=${e.cID}&key=${e.primaryKey}`},text:e.client_name}),n=buildEle({type:"p",myClass:["w3-border-bottom","w3-padding-small"],text:` from ${e.city}<br>\n\t\t\t\tPredicted ${e.num_horses} horse(s)<br>\n\t\t\t\t${e.prediction_message}<br>\n\t\t\t\tAppointment starts at: ${e.start}<br>\n\t\t\t\tAppointment ends at: ${e.end}`});addListener({elementOrId:t,eventType:"click",handler:async t=>selectPage({evt:t,page:"singleClient",cID:e.cID,primaryKey:e.primaryKey,manageClient:i,manageUser:a}),componentId:s}),n.prepend(t),r.appendChild(n)})),e.innerHTML="",e.appendChild(r)}catch(e){throw e}}