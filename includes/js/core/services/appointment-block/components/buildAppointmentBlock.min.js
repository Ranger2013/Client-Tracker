// @ts-nocheck
import selectPage from"../../../navigation/services/selectPage.js";import{buildEle}from"../../../utils/dom/elements.js";import{addListener}from"../../../utils/dom/listeners.js";export default async function buildAppointmentBlock({appointmentContainer:e,appointments:t,date:n,manageClient:a,manageUser:i,componentId:l}){try{const s=buildEle({type:"div",myClass:["w3-yellow","w3-padding-small"]}),r=buildEle({type:"h6",myClass:["w3-center"],text:`Bookings for ${n}`}),m=buildEle({type:"div",myClass:["w3-center","w3-small"],text:"Remember times include your average drive time also."});s.appendChild(r),s.appendChild(m),t.forEach((e=>{const t=buildEle({type:"a",myClass:["w3-underline"],attributes:{href:`/tracker/clients/appointments/?cID=${e.cID}&key=${e.primaryKey}`},text:e.client_name}),n=buildEle({type:"p",myClass:["w3-border-bottom","w3-padding-small"],text:` from ${e.city}<br>Usually has ${e.num_horses} horse(s)<br>Appointment starts at: ${e.start}<br>Appointment ends at: ${e.end}`});addListener({elementOrId:t,eventType:"click",handler:async t=>selectPage({evt:t,page:"singleClient",cID:e.cID,primaryKey:e.primaryKey,manageClient:a,manageUser:i}),componentId:l}),n.prepend(t),s.appendChild(n)})),e.innerHTML="",e.appendChild(s)}catch(e){throw e}}