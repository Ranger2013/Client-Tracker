// @ts-nocheck
export default async function predictNextSessionNumberHorses({clientID:t,manageClient:e,totalHorses:n}){try{console.log("In predictNextSessionNumberHorses: clientID: ",t);const r=await e.getClientTrimmingInfo(t);if(console.log("In predictNextSessionNumberHorses: after clientTrimmingInfo: ",r),!r||0===r.length)return 1;let i=await detectTrimmingPattern(r,n);if(!i)return n||1;const s=r?r.trimmings.length%i.length:0;return Math.min(i[s],n)}catch(t){throw t}}async function detectTrimmingPattern(t,e){try{if(!t||!t.trimmings)return null;const n=t.trimmings,r=[],i=n.length;for(let t=1;t<=i/2;t++){let e=!0;for(let r=0;r<i;r++)if(n[r].horses.length!==n[r%t].horses.length){e=!1;break}if(e){for(let e=0;e<t;e++)r.push(n[e].horses.length);break}}return 0===r.length&&r.push(e),r.length>0?r:null}catch(t){throw t}}