// @ts-nocheck
import{getValidElement}from"../elements.min.js";import{clearMsg}from"../messages.min.js";const COMPONENT="Filter Client Select Element",DEBUG=!1,debugLog=(...e)=>{false},savedOptions=new Map;export default async function filterClientList({evt:e,selectElement:t}){try{clearMsg({container:"form-msg"});const o=e.target.value.toLowerCase(),r=getValidElement(t);if(!o)return savedOptions.forEach((e=>{r.add(e)})),void savedOptions.clear();Array.from(r.options).forEach((e=>{e.text.toLowerCase().includes(o)||"null"===e.value||(savedOptions.set(e.value,e),e.remove())})),savedOptions.forEach(((e,t)=>{e.text.toLowerCase().includes(o)&&(r.add(e),savedOptions.delete(t))})),debugLog()}catch(e){const{AppError:t}=await import("../../../../core/errors/models/AppError.min.js");t.handleError(e,{errorCode:t.Types.INITIALIZATION_ERROR,userMessage:"Search functionality not available at the moment."})}}