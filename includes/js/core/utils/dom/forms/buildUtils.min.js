// @ts-nocheck
import{buildEle,buildElementsFromConfig,buildElementTree}from"../elements.js";const COMPONENT="Build DOM Form Utils",DEBUG=!1,debugLog=(...e)=>{false};export function buildErrorDiv(e){return buildEle({type:"div",attributes:{id:`${e}-error`},myClass:["w3-padding-small","w3-margin-small","w3-hide"]})}export async function buildPageContainer({pageTitle:e,clientName:t=null,cID:r=null,primaryKey:s=null}){try{const o=buildElementsFromConfig({container:{type:"div",myClass:["w3-container"]},card:{type:"div",myClass:["w3-card"],attributes:{id:"card"}},titleContainer:{type:"div",myClass:["w3-center"]},formMsg:{type:"div",attributes:{id:"form-msg"},myClass:["w3-center"]},title:{type:"h5",text:e},anchor:{type:"a",myClass:["w3-text-underline"],text:t||"",attributes:t&&r&&s?{"data-component":"client-navigation","data-clientid":r,"data-primarykey":s,href:`/tracker/clients/appointments/?cID=${r}&key=${s}`}:{}}}),{container:a,card:l,titleContainer:i,formMsg:n,title:p,anchor:d}=o;return t&&r&&s&&p.appendChild(d),i.prepend(p),l.append(i,n),[a,l]}catch(e){const{AppError:t}=await import("../../../errors/models/AppError.js");t.process(e,{errorCode:t.Types.RENDER_ERROR,userMessage:t.BaseMessages.system.render},!0)}}export async function buildSubmitButtonSection(e,t=null,r=null){try{if(!e)throw new Error("Button Text is required");const s=buildElementsFromConfig({container:{type:"div",attributes:{id:"button-section"},myClass:["w3-margin-top","w3-padding-bottom","w3-center"]},button:{type:"button",attributes:{id:r||"submit-button",type:"submit",name:"submit"},myClass:["w3-button","w3-round-large",t||"w3-black"],text:e}}),{container:o,button:a}=s;return o.appendChild(a),o}catch(e){const{AppError:t}=await import("../../../errors/models/AppError.js");t.process(e,{errorCode:t.Types.RENDER_ERROR,userMessage:t.BaseMessages.system.render},!0)}}export async function buildSubmitDeleteButtonSection({submitButtonText:e,deleteButtonText:t,submitButtonIterator:r=null,deleteButtonIterator:s=null}){try{const o=r?`submit-button-${r}`:"submit-button",a=s?`delete-button-${s}`:"delete-button",l=buildElementTree({type:"div",myClass:["w3-row","w3-padding","w3-margin-top"],children:{submitCol:{type:"div",myClass:["w3-col","s6","w3-padding-small","w3-center"],children:{submitButton:{type:"button",attributes:{id:o,type:"submit",name:"submit"},myClass:["w3-button","w3-round-large","w3-black"],text:e}}},deleteCol:{type:"div",myClass:["w3-col","s6","w3-padding-small","w3-center"],children:{deleteButton:{type:"button",attributes:{id:a,type:"submit",name:"delete"},myClass:["w3-button","w3-round-large","w3-red"],text:t}}}}});return debugLog(),l}catch(e){const{AppError:t}=await import("../../../errors/models/AppError.js");t.process(e,{errorCode:t.Types.RENDER_ERROR,userMessage:t.BaseMessages.system.render},!0)}}export async function buildTwoColumnInputSection({labelText:e,inputID:t,inputType:r,inputName:s,inputTitle:o,required:a,inputValue:l,additionalElement:i=null}){try{const{getCurrentTime:n,getReadableCurrentFutureDate:p}=await import("../../date/dateUtils.js"),{cleanUserOutput:d}=await import("../../string/stringUtils.js"),u={date:{getDefaultValue:()=>p()},time:{getDefaultValue:()=>n()},number:{attributes:{step:".01"}}},c={id:t,type:r,name:s,placeholder:o,title:o,required:a,value:d(l)||u[r]?.getDefaultValue?.()||void 0,...u[r]?.attributes};Object.keys(c).forEach((e=>void 0===c[e]&&delete c[e]));const m={row:{type:"div",myClass:["w3-row","w3-padding"]},colLabel:{type:"div",myClass:["w3-col","m6"]},colInput:{type:"div",myClass:["w3-col","m6"]},input:{type:"input",attributes:c,myClass:["w3-input","w3-border","input"]},label:{type:"label",attributes:{for:t},text:e}};"app-time"===t&&(m.appointmentBlock={type:"div",attributes:{id:"appointment-block"},myClass:["w3-margin-small"]},m.projectedAppointmentBlock={type:"div",attributes:{id:"projected-appointment-block"},myClass:["w3-margin-small"]});const b=buildElementsFromConfig(m),{row:y,colLabel:w,colInput:C,input:E,label:g}=b,v=buildErrorDiv(t);if("app-time"===t){const{appointmentBlock:e,projectedAppointmentBlock:t}=b;C.append(E,v,e,t)}else C.append(E,v);return i&&C.appendChild(i),w.appendChild(g),y.append(w,C),y}catch(e){const{AppError:t}=await import("../../../errors/models/AppError.js");t.process(e,{errorCode:t.Types.RENDER_ERROR,userMessage:t.BaseMessages.system.render},!0)}}export async function buildTwoColumnRadioButtonSection({labelText:e,required:t,buttons:r}){try{const s=buildElementsFromConfig({row:{type:"div",myClass:["w3-row","w3-padding"]},colOne:{type:"div",myClass:["w3-col","s6"],text:e},colTwo:{type:"div",myClass:["w3-col","s6"]}}),{row:o,colOne:a,colTwo:l}=s;return r?.forEach((e=>{const r=buildEle({type:"label",myClass:["w3-block"],text:`${e.labelText} `}),s=buildEle({type:"input",attributes:{type:"radio",name:e.name,value:e.value,...e.checked&&{checked:!0},...t&&{required:!0}}});r.appendChild(s),l.appendChild(r)})),o.append(a,l),o}catch(e){const{AppError:t}=await import("../../../errors/models/AppError.js");t.process(e,{errorCode:t.Types.RENDER_ERROR,userMessage:t.BaseMessages.system.render},!0)}}export async function buildTwoColumnSelectElementSection({labelText:e,selectID:t,selectName:r,selectTitle:s,required:o,options:a}){try{const l=buildElementsFromConfig({row:{type:"div",myClass:["w3-row","w3-padding"]},colOne:{type:"div",myClass:["w3-col","m6"]},colTwo:{type:"div",myClass:["w3-col","m6"]},label:{type:"label",attributes:{for:t},text:e},select:{type:"select",attributes:{id:t,name:r,title:s,required:o},myClass:["w3-input","w3-border"]}}),{row:i,colOne:n,colTwo:p,label:d,select:u}=l,c=buildErrorDiv(t);return a?.length>0&&a.forEach((e=>{const{value:t,disabled:r,selected:s,text:o,...a}=e;u.appendChild(buildEle({type:"option",attributes:{...a,value:t,...r&&{disabled:!0},...s&&{selected:!0}},text:o}))})),n.appendChild(d),p.append(u,c),i.append(n,p),i}catch(e){const{AppError:t}=await import("../../../errors/models/AppError.js");t.process(e,{errorCode:t.Types.RENDER_ERROR,userMessage:t.BaseMessages.system.render},!0)}}export async function buildTwoColumnTextareaSection({labelText:e,textareaID:t,textareaName:r,textareaTitle:s,required:o,textareaValue:a=null,rows:l=10}){try{const{cleanUserOutput:i}=await import("../../string/stringUtils.js"),n={id:t||void 0,name:r||void 0,placeholder:s||void 0,title:s||void 0,rows:l||void 0,required:o||void 0};Object.keys(n).forEach((e=>void 0===n[e]&&delete n[e]));const p=buildElementsFromConfig({row:{type:"div",myClass:["w3-row","w3-padding"]},colLabel:{type:"div",myClass:["w3-col","m6"]},label:{type:"label",attributes:{for:t},text:e},colInput:{type:"div",myClass:["w3-col","m6"]},textarea:{type:"textarea",attributes:n,myClass:["w3-input","w3-border"],text:a||""}}),{row:d,colLabel:u,label:c,colInput:m,textarea:b}=p,y=buildErrorDiv(t);return u.appendChild(c),m.append(b,y),d.append(u,m),d}catch(e){const{AppError:t}=await import("../../../errors/models/AppError.js");t.process(e,{errorCode:t.Types.RENDER_ERROR,userMessage:t.BaseMessages.system.render},!0)}}