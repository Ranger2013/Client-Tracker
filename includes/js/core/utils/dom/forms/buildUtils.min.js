// @ts-nocheck
import{buildEle}from"../elements.min.js";const COMPONENT="Build DOM Form Utils",DEBUG=!1,debugLog=(...e)=>{false};export function buildErrorDiv(e){return buildEle({type:"div",attributes:{id:`${e}-error`},myClass:["w3-padding-small","w3-margin-small","w3-hide"]})}export async function buildPageContainer({pageTitle:e,clientName:t=null,cID:r=null,primaryKey:s=null}){try{const i={container:{type:"div",myClass:["w3-container"]},card:{type:"div",myClass:["w3-card"],attributes:{id:"card"}},titleContainer:{type:"div",myClass:["w3-center"]},formMsg:{type:"div",attributes:{id:"form-msg"}},title:{type:"h5"},anchor:{type:"a",myClass:["w3-text-underline"]}},a=buildEle(i.container),l=buildEle(i.card),n=buildEle(i.titleContainer);document.getElementById("form-msg")||n.appendChild(buildEle(i.formMsg));const o=buildEle({...i.title,text:e});if(t&&r&&s){const e=buildEle({...i.anchor,attributes:{"data-component":"client-navigation","data-clientid":r,"data-primarykey":s,href:`/tracker/clients/appointments/?cID=${r}&key=${s}`},text:t});o.appendChild(e)}return n.prepend(o),l.appendChild(n),[a,l]}catch(e){const{AppError:t}=await import("../../../errors/models/AppError.min.js");t.process(e,{errorCode:t.Types.RENDER_ERROR,userMessage:t.BaseMessages.system.render},!0)}}export async function buildSubmitButtonSection(e,t=null,r=null){try{if(!e)throw new Error("Button Text is required");const[s,i]=[{type:"div",attributes:{id:"button-section"},myClass:["w3-margin-top","w3-padding-bottom","w3-center"]},{type:"button",attributes:{id:r||"submit-button",type:"submit",name:"submit"},myClass:["w3-button","w3-round-large",t||"w3-black"],text:e}].map((e=>buildEle(e)));return s.appendChild(i),s}catch(e){const{AppError:t}=await import("../../../errors/models/AppError.min.js");t.process(e,{errorCode:t.Types.RENDER_ERROR,userMessage:t.BaseMessages.system.render},!0)}}export async function buildSubmitDeleteButtonSection({submitButtonText:e,deleteButtonText:t}){try{const[r,s,i]=[{type:"div",myClass:["w3-row"]},{type:"div",myClass:["w3-col","s6","w3-padding-small","w3-center"]},{type:"div",myClass:["w3-col","s6","w3-padding-small","w3-center"]}].map((e=>buildEle(e))),[a,l]=[{type:"button",attributes:{id:"submit-button",type:"submit",name:"submit"},myClass:["w3-button","w3-round-large","w3-black"],text:e},{type:"button",attributes:{id:"delete-button",type:"submit",name:"delete"},myClass:["w3-button","w3-round-large","w3-red"],text:t}].map((e=>buildEle(e)));return s.appendChild(a),i.appendChild(l),r.append(s,i),r}catch(e){const{AppError:t}=await import("../../../errors/models/AppError.min.js");t.process(e,{errorCode:t.Types.RENDER_ERROR,userMessage:t.BaseMessages.system.render},!0)}}export async function buildTwoColumnInputSection({labelText:e,inputID:t,inputType:r,inputName:s,inputTitle:i,required:a,inputValue:l,additionalElement:n=null}){try{const{getCurrentTime:o,getReadableCurrentFutureDate:d}=await import("../../date/dateUtils.min.js"),{cleanUserOutput:p}=await import("../../string/stringUtils.min.js"),u={date:{getDefaultValue:()=>d()},time:{getDefaultValue:()=>o()},number:{attributes:{step:".01"}}},m={id:t,type:r,name:s,placeholder:i,title:i,required:a,value:p(l)||u[r]?.getDefaultValue?.()||void 0,...u[r]?.attributes};Object.keys(m).forEach((e=>void 0===m[e]&&delete m[e]));const[c,y,b,E]=[{type:"div",myClass:["w3-row","w3-padding"]},{type:"div",myClass:["w3-col","m6"]},{type:"div",myClass:["w3-col","m6"]},{type:"input",attributes:m,myClass:["w3-input","w3-border","input"]}].map((e=>buildEle(e))),w=buildErrorDiv(t),C=buildEle({type:"label",attributes:{for:t},text:e});if("app-time"===t){const[e,t]=["appointment-block","projected-appointment-block"].map((e=>buildEle({type:"div",attributes:{id:e},myClass:["w3-margin-small"]})));b.append(E,w,e,t)}else b.append(E,w);return n&&b.appendChild(n),y.appendChild(C),c.append(y,b),c}catch(e){const{AppError:t}=await import("../../../errors/models/AppError.min.js");t.process(e,{errorCode:t.Types.RENDER_ERROR,userMessage:t.BaseMessages.system.render},!0)}}export async function buildTwoColumnRadioButtonSection({labelText:e,required:t,buttons:r}){try{const[s,i,a]=[{type:"div",myClass:["w3-row","w3-padding"]},{type:"div",myClass:["w3-col","s6"],text:e},{type:"div",myClass:["w3-col","s6"]}].map((e=>buildEle(e)));return r?.forEach((e=>{const r=buildEle({type:"label",myClass:["w3-block"],text:`${e.labelText} `}),s=buildEle({type:"input",attributes:{type:"radio",name:e.name,value:e.value,...e.checked&&{checked:!0},...t&&{required:!0}}});r.appendChild(s),a.appendChild(r)})),s.append(i,a),s}catch(e){const{AppError:t}=await import("../../../errors/models/AppError.min.js");t.process(e,{errorCode:t.Types.RENDER_ERROR,userMessage:t.BaseMessages.system.render},!0)}}export async function buildTwoColumnSelectElementSection({labelText:e,selectID:t,selectName:r,selectTitle:s,required:i,options:a}){try{const[l,n,o,d]=[{type:"div",myClass:["w3-row","w3-padding"]},{type:"div",myClass:["w3-col","m6"]},{type:"div",myClass:["w3-col","m6"]},{type:"select",attributes:{id:t,name:r,title:s,required:i},myClass:["w3-input","w3-border"]}].map((e=>buildEle(e))),p=buildErrorDiv(t);return n.appendChild(buildEle({type:"label",attributes:{for:t},text:e})),debugLog(),a?.length>0&&a.forEach((e=>{debugLog();const{value:t,disabled:r,selected:s,text:i,...a}=e;d.appendChild(buildEle({type:"option",attributes:{...a,value:t,...r&&{disabled:!0},...s&&{selected:!0}},text:i}))})),o.append(d,p),l.append(n,o),l}catch(e){const{AppError:t}=await import("../../../errors/models/AppError.min.js");t.process(e,{errorCode:t.Types.RENDER_ERROR,userMessage:t.BaseMessages.system.render},!0)}}export async function buildTwoColumnTextareaSection({labelText:e,textareaID:t,textareaName:r,textareaTitle:s,required:i=!0,textareaValue:a=null,rows:l=10}){try{const n={id:t||void 0,name:r||void 0,placeholder:s||void 0,title:s||void 0,rows:l||void 0,required:i||void 0};Object.keys(n).forEach((e=>void 0===n[e]&&delete n[e]));const o=buildEle({type:"div",myClass:["w3-row","w3-padding"]}),d=buildEle({type:"div",myClass:["w3-col","m6"]}),p=buildEle({type:"label",attributes:{for:t},text:e}),u=buildEle({type:"div",myClass:["w3-col","m6"]}),m=buildEle({type:"textarea",attributes:n,myClass:["w3-input","w3-border"],text:cleanUserOutput(a)||""}),c=buildErrorDiv(t);return o.appendChild(d),d.appendChild(p),o.appendChild(u),u.appendChild(m),u.appendChild(c),o}catch(e){const{AppError:t}=await import("../../../errors/models/AppError.min.js");t.process(e,{errorCode:t.Types.RENDER_ERROR,userMessage:t.BaseMessages.system.render},!0)}}