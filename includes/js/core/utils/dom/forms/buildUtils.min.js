// @ts-nocheck
import{buildEle}from"../elements";const COMPONENT="Build DOM Form Utils",DEBUG=!1,debugLog=(...e)=>{false};export function buildErrorDiv(e){return buildEle({type:"div",attributes:{id:`${e}-error`},myClass:["w3-padding-small","w3-margin-small","w3-hide"]})}export async function buildPageContainer({pageTitle:e,clientName:t=null,cID:r=null,primaryKey:s=null}){try{const a={container:{type:"div",myClass:["w3-container"]},card:{type:"div",myClass:["w3-card"],attributes:{id:"card"}},titleContainer:{type:"div",myClass:["w3-center"]},formMsg:{type:"div",attributes:{id:"form-msg"}},title:{type:"h5"},anchor:{type:"a",myClass:["w3-text-underline"]}},i=buildEle(a.container),l=buildEle(a.card),o=buildEle(a.titleContainer);document.getElementById("form-msg")||o.appendChild(buildEle(a.formMsg));const d=buildEle({...a.title,text:e});if(t&&r&&s){const e=buildEle({...a.anchor,attributes:{"data-component":"client-navigation","data-clientid":r,"data-primarykey":s,href:`/tracker/clients/appointments/?cID=${r}&key=${s}`},text:t});d.appendChild(e)}return o.prepend(d),l.appendChild(o),[i,l]}catch(e){const{AppError:t}=await import("../../../errors/models/AppError.js");t.process(e,{errorCode:t.Types.RENDER_ERROR,userMessage:t.BaseMessages.system.render},!0)}}export async function buildSubmitButtonSection(e,t=null,r=null){try{if(!e)throw new Error("Button Text is required");const[s,a]=[{type:"div",attributes:{id:"button-section"},myClass:["w3-margin-top","w3-padding-bottom","w3-center"]},{type:"button",attributes:{id:r||"submit-button",type:"submit",name:"submit"},myClass:["w3-button","w3-round-large",t||"w3-black"],text:e}].map((e=>buildEle(e)));return s.appendChild(a),s}catch(e){const{AppError:t}=await import("../../../errors/models/AppError.js");t.process(e,{errorCode:t.Types.RENDER_ERROR,userMessage:t.BaseMessages.system.render},!0)}}export async function buildSubmitDeleteButtonSection({submitButtonText:e,deleteButtonText:t}){try{const[r,s,a]=[{type:"div",myClass:["w3-row"]},{type:"div",myClass:["w3-col","s6","w3-padding-small","w3-center"]},{type:"div",myClass:["w3-col","s6","w3-padding-small","w3-center"]}].map((e=>buildEle(e))),[i,l]=[{type:"button",attributes:{id:"submit-button",type:"submit",name:"submit"},myClass:["w3-button","w3-round-large","w3-black"],text:e},{type:"button",attributes:{id:"delete-button",type:"submit",name:"delete"},myClass:["w3-button","w3-round-large","w3-red"],text:t}].map((e=>buildEle(e)));return s.appendChild(i),a.appendChild(l),r.append(s,a),r}catch(e){const{AppError:t}=await import("../../../errors/models/AppError.js");t.process(e,{errorCode:t.Types.RENDER_ERROR,userMessage:t.BaseMessages.system.render},!0)}}export async function buildTwoColumnInputSection({labelText:e,inputID:t,inputType:r,inputName:s,inputTitle:a,required:i,inputValue:l,additionalElement:o=null}){try{const{getCurrentTime:d,getReadableCurrentFutureDate:n}=await import("../../date/dateUtils.min.js"),{cleanUserOutput:p}=await import("../../string/stringUtils.js"),u={date:{getDefaultValue:()=>n()},time:{getDefaultValue:()=>d()},number:{attributes:{step:".01"}}},m={id:t,type:r,name:s,placeholder:a,title:a,required:i,value:p(l)||u[r]?.getDefaultValue?.()||void 0,...u[r]?.attributes};Object.keys(m).forEach((e=>void 0===m[e]&&delete m[e]));const[c,y,b,E]=[{type:"div",myClass:["w3-row","w3-padding"]},{type:"div",myClass:["w3-col","m6"]},{type:"div",myClass:["w3-col","m6"]},{type:"input",attributes:m,myClass:["w3-input","w3-border","input"]}].map((e=>buildEle(e))),w=buildErrorDiv(t),C=buildEle({type:"label",attributes:{for:t},text:e});if("app-time"===t){const[e,t]=["appointment-block","projected-appointment-block"].map((e=>buildEle({type:"div",attributes:{id:e},myClass:["w3-margin-small"]})));b.append(E,w,e,t)}else b.append(E,w);return o&&b.appendChild(o),y.appendChild(C),c.append(y,b),c}catch(e){const{AppError:t}=await import("../../../errors/models/AppError.js");t.process(e,{errorCode:t.Types.RENDER_ERROR,userMessage:t.BaseMessages.system.render},!0)}}export async function buildTwoColumnRadioButtonSection({labelText:e,required:t,buttons:r}){try{const[s,a,i]=[{type:"div",myClass:["w3-row","w3-padding"]},{type:"div",myClass:["w3-col","s6"],text:e},{type:"div",myClass:["w3-col","s6"]}].map((e=>buildEle(e)));return r?.forEach((e=>{const r=buildEle({type:"label",myClass:["w3-block"],text:`${e.labelText} `}),s=buildEle({type:"input",attributes:{type:"radio",name:e.name,value:e.value,...e.checked&&{checked:!0},...t&&{required:!0}}});r.appendChild(s),i.appendChild(r)})),s.append(a,i),s}catch(e){const{AppError:t}=await import("../../../errors/models/AppError.js");t.process(e,{errorCode:t.Types.RENDER_ERROR,userMessage:t.BaseMessages.system.render},!0)}}export async function buildTwoColumnSelectElementSection({labelText:e,selectID:t,selectName:r,selectTitle:s,required:a,options:i}){try{const[l,o,d,n]=[{type:"div",myClass:["w3-row","w3-padding"]},{type:"div",myClass:["w3-col","m6"]},{type:"div",myClass:["w3-col","m6"]},{type:"select",attributes:{id:t,name:r,title:s,required:a},myClass:["w3-input","w3-border"]}].map((e=>buildEle(e))),p=buildErrorDiv(t);return o.appendChild(buildEle({type:"label",attributes:{for:t},text:e})),debugLog(),i?.length>0&&i.forEach((e=>{debugLog();const{value:t,disabled:r,selected:s,text:a,...i}=e;n.appendChild(buildEle({type:"option",attributes:{...i,value:t,...r&&{disabled:!0},...s&&{selected:!0}},text:a}))})),d.append(n,p),l.append(o,d),l}catch(e){const{AppError:t}=await import("../../../errors/models/AppError.js");t.process(e,{errorCode:t.Types.RENDER_ERROR,userMessage:t.BaseMessages.system.render},!0)}}export async function buildTwoColumnTextareaSection({labelText:e,textareaID:t,textareaName:r,textareaTitle:s,required:a=!0,textareaValue:i=null,rows:l=10}){try{const o={id:t||void 0,name:r||void 0,placeholder:s||void 0,title:s||void 0,rows:l||void 0,required:a||void 0};Object.keys(o).forEach((e=>void 0===o[e]&&delete o[e]));const d=buildEle({type:"div",myClass:["w3-row","w3-padding"]}),n=buildEle({type:"div",myClass:["w3-col","m6"]}),p=buildEle({type:"label",attributes:{for:t},text:e}),u=buildEle({type:"div",myClass:["w3-col","m6"]}),m=buildEle({type:"textarea",attributes:o,myClass:["w3-input","w3-border"],text:cleanUserOutput(i)||""}),c=buildErrorDiv(t);return d.appendChild(n),n.appendChild(p),d.appendChild(u),u.appendChild(m),u.appendChild(c),d}catch(e){const{AppError:t}=await import("../../../errors/models/AppError.js");t.process(e,{errorCode:t.Types.RENDER_ERROR,userMessage:t.BaseMessages.system.render},!0)}}