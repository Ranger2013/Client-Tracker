// @ts-nocheck
import dropDownMenu from"./dropDownMenu.js";import selectPage from"./selectPage.js";import sideBarNavigation from"./sideBarNavigation.js";const ROUTES={dynamic:{clients:{active:{id:["active-client-link"],page:"activeClients",access:"full"},inactive:{id:["inactive-client-link"],page:"inactiveClients",access:"full"},add:{id:["add-client-link"],page:"addClient",access:"full"},duplicate:{id:["duplicate-client-link"],page:"duplicateClient",access:"full"},deleteDuplicate:{id:["delete-duplicate-client-link"],page:"deleteDuplicateClient",access:"full"}},business:{mileage:{id:["add-mileage-link","add-mileage-link-small"],page:"addMileage",access:"full"},expenses:{add:{id:["add-expenses-link","add-expenses-link-small"],page:"addExpenses",access:"full"},edit:{id:["edit-expenses-link","edit-expenses-link-small"],page:"editExpenses",access:"full"}}},notes:{add:{id:["add-personal-notes-link","add-personal-notes-link-small"],page:"addPersonalNotes",access:"full"},edit:{id:["edit-personal-notes-link","edit-personal-notes-link-small"],page:"editPersonalNotes",access:"full"}}},controls:{mainMenu:{selector:".drop-menu",handler:"dropDownMenu"},sideBar:{id:"side-bar-navigation",handler:"sideBarNavigation"}},static:{settings:{dateTime:"/tracker/settings/date-time/",farrierPrices:"/tracker/settings/farrier-prices/",mileageCharges:"/tracker/settings/mileage-charges/",scheduleOptions:"/tracker/settings/schedule-options/",colorOptions:"/tracker/settings/color-options/"},reports:{income:"/tracker/reports/income/",expenses:"/tracker/reports/expenses/",mileage:"/tracker/reports/mileage/"},account:{userAccount:"/tracker/my-account/user-account/",dashboard:"/tracker/my-account/dashboard/",helpDesk:"/tracker/my-account/help-desk/"}}},PAGE_MSG="page-msg";export default async function mainTrackerNavigation(){try{await setupNavigationControls(),await setupRouteListeners()}catch(e){try{const{AppError:a}=await import("../../errors/models/AppError.js"),t=new a("Navigation initialization failed",{originalError:e,errorCode:a.Types.NAVIGATION_ERROR,userMessage:"Failed to initialize navigation. Please refresh the page.",displayTarget:PAGE_MSG,shouldLog:!0});await t.handle()}catch(e){console.error("Error handling failed:",e);const a=document.getElementById(PAGE_MSG);a&&(a.textContent="Navigation failed. Please refresh the page.",a.classList.remove("w3-hide"))}}}async function setupNavigationControls(){try{const e=document.querySelectorAll(ROUTES.controls.mainMenu.selector);e.length?e.forEach((e=>e.addEventListener("click",dropDownMenu))):console.warn("No dropdown menus found");const a=document.getElementById(ROUTES.controls.sideBar.id);return a&&a.addEventListener("click",sideBarNavigation),!0}catch(e){throw e}}async function setupRouteListeners(){try{Object.values(ROUTES.dynamic).forEach((e=>{Object.values(e).forEach((e=>{e.page&&e.id&&e.id.forEach((a=>{const t=document.getElementById(a);t&&t.addEventListener("click",(async a=>{a.preventDefault(),await selectPage({evt:a,page:e.page})}))}))}))}))}catch(e){const{AppError:a}=await import("../../errors/models/AppError.js"),t=new a("Route listeners setup failed",{originalError:e,errorCode:a.Types.INITIALIZATION_ERROR,userMessage:"Failed to setup page navigation. Please refresh the page.",displayTarget:PAGE_MSG,shouldLog:!0});await t.handle()}}