// @ts-nocheck
import{buildEle,buildElementsFromConfig}from"../../../../../core/utils/dom/elements.js";const COMPONENT="BuildHorseListSelectElements",DEBUG=!1,debugLog=(...e)=>{false};export default async function buildHorseListSelectElements({iterator:e,horseListOptions:t,farrierPricesOptions:s,accessoryOptions:o}){try{const r=e,i={row:{type:"div",myClass:["w3-row","w3-padding-small","w3-border-bottom","w3-margin-bottom"]},firstCol:{type:"div",myClass:["w3-col","m6"]},firstColLabel:{type:"label",attributes:{for:`horse-list-${r}`},text:"Horse's Name:"},secondCol:{type:"div",myClass:["w3-col","m6"]},horseListSelectError:{type:"div",attributes:{id:`horse-list-${r}-error`}},servicesContainer:{type:"div",attributes:{id:`services-container-${r}`},myClass:["w3-padding-small","w3-hide"]},accessoriesContainer:{type:"div",attributes:{id:`accessories-container-${r}`},myClass:["w3-padding-small","w3-hide"]},changeCostCheckboxContainer:{type:"label",attributes:{id:`checkbox-container-${r}`,for:`checkbox-cost-${r}`},myClass:["w3-padding-small","w3-hide"],text:" Change price of your service."},changeCostCheckbox:{type:"input",attributes:{id:`checkbox-cost-${r}`,name:`checkbox_cost_${r}`,type:"checkbox",value:"1",title:"Change cost of your service"},myClass:["w3-checkbox"]},changeCostInputContainer:{type:"div",attributes:{id:`change-cost-container-${r}`},myClass:["w3-padding-small","w3-hide"]},changeCostSpan:{type:"span",myClass:["w3-text-red","w3-small"],text:"This does not change the accessory cost."},changeCostInput:{type:"input",attributes:{id:`cost-change-${r}`,type:"number",title:"Change cost of selected service.",placeholder:"Change service cost",disabled:"disabled"},myClass:["w3-input","w3-border"]}};debugLog();const a=buildElementsFromConfig(i),{row:c,firstCol:n,firstColLabel:l,secondCol:d}=a,{horseListSelectError:p,servicesContainer:u,accessoriesContainer:h}=a,{changeCostCheckboxContainer:C,changeCostCheckbox:m,changeCostInputContainer:g,changeCostSpan:b,changeCostInput:y}=a,v=createSelectElement({id:`horse-list-${r}`,name:`horse_list_${r}`,title:"Select a Horse",options:t,required:!0}),w=createSelectElement({id:`service-cost-${r}`,name:`service_cost_${r}`,title:"Type of Service",options:s,required:!0}),E=createSelectElement({id:`accessories-${r}`,name:`accessories_${r}`,title:"Select the Accessories",options:o,nullOptionText:"-- Select Accessory --",multiple:!0,disabled:!0});return u.appendChild(w),h.appendChild(E),C.prepend(m),g.append(b,y),n.appendChild(l),d.append(v,p,u,h,C,g),c.append(n,d),c}catch(e){const{AppError:t}=await import("../../../../../core/errors/models/AppError.js");t.process(e,{errorCode:t.Types.RENDER_ERROR,userMessage:null,displayTarget:"number-horses-error"},!0)}}function createSelectElement({id:e,name:t,title:s,options:o,nullOptionText:r,required:i,multiple:a=!1,disabled:c=!1}){const n={id:e,name:t,title:s,required:i?"required":void 0,multiple:a?"multiple":void 0,disabled:c?"disabled":void 0};Object.keys(n).forEach((e=>void 0===n[e]&&delete n[e]));const l=buildEle({type:"select",attributes:n,myClass:["w3-input","w3-border"]});if(r){const e=buildEle({type:"option",attributes:{value:"null",disabled:"disabled",selected:"selected"},text:r});l.appendChild(e)}return o.forEach((e=>{debugLog();const t=e.cloneNode(!0);l.appendChild(t)})),debugLog(),l}async function updateChangeCostInput({evt:e,changeCostInput:t}){try{debugLog();document.querySelectorAll('select[id^="service-cost-"]');const s=e.target.value;t.value=s.split(":")[1]}catch(e){const{handleError:t}=await import("../../../../../utils/error-messages/handleError.js");await t("updateChangeCostInputError","Update change cost input error: ",e)}}async function changeServiceCost({evt:e,serviceCostSelect:t}){try{const s=e.target.value,o=t.options[t.selectedIndex].value.split(":")[0];t.options[t.selectedIndex].value=`${o}:${s}`}catch(e){const{handleError:t}=await import("../../../../../utils/error-messages/handleError.js");await t("changeServiceCostError","Change service cost error: ",e)}}function handleShowingAccessoriesSelect(e,t,s){t.classList.toggle("w3-hide",e.target.value.includes("trim")),s.disabled=e.target.value.includes("trim")}