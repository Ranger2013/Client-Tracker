// @ts-nocheck
const COMPONENT="Update Trim Cost",DEBUG=!0,debugLog=(...e)=>{console.log(`[${COMPONENT}]`,...e)};export async function updateTrimCost({blockElementNode:e,numberHorses:r,userFarrierPrices:t}){try{const o=calculateTrimValue({totalHorses:r,farrierPrices:t});debugLog("Trim Value:",o);const s=e.querySelectorAll('select[id^="service-cost-"]');debugLog("Select Elements:",s),s.forEach((r=>{const t=Array.from(r.options).find((e=>e.value.includes("trim")||e.textContent.toLowerCase().includes("trim")));if(debugLog("Trim Option:",t),!t)return;const s=r.id.split("-").pop();debugLog("Index:",s);const i=t.value.split(":")[1];debugLog("Selected Index Value:",i),t.value=o;const c=e.querySelector(`#cost-change-${s}`);debugLog("Selected Index === xxx: ",i),debugLog("Change Cost Input:",c)}))}catch(e){const{AppError:r}=await import("../../../../../core/errors/models/AppError.js");r.process(e,{errorCode:r.Types.INITIALIZATION_ERROR,userMessage:"We encountered an error updating the trim cost.",displayTarget:"form-msg"},!0)}}export function calculateTrimValue({totalHorses:e,farrierPrices:r}){e=parseInt(e,10),debugLog("Total Horses:",e),debugLog("Farrier Prices:",r);const{barn_trim:t,triple_horse_trim:o,double_horse_trim:s,single_horse_trim:i}=r;return i?e>=10?`trim:${t||o||s||i}`:e>=3&&e<10?`trim:${o||s||i}`:2===e?`trim:${s||i}`:1===e?`trim:${i}`:"":""}