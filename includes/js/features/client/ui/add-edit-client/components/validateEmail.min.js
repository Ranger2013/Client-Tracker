// @ts-nocheck
import{clearMsg}from"../../../../../core/utils/dom/messages.js";export default async function validateEmail({evt:e,manageClient:a}){try{if(!e.target.value)return void clearMsg({container:`${e.target.id}-error`,hide:!0,input:e.target});const t=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return e.target.value.match(t)?e.target.value&&await checkForDuplicateEmail({email:e.target.value,manageClient:a})?"Email is already in use.":void clearMsg({container:`${e.target.id}-error`,hide:!0,input:e.target}):"Please provide a valid email."}catch(e){throw e}}async function checkForDuplicateEmail({email:e,manageClient:a}){try{const t=await a.getClientScheduleList(),i=t?.some((a=>a.email===e));return i}catch(e){throw e}}