// @ts-nocheck
import setupBackupNotice from"../../../../../core/services/backup-notice/backupNotice.min";const COMPONENT="Add Edit Form Submission",DEBUG=!1,debugLog=(...e)=>{false};export default async function addEditFormSubmission({evt:e,cID:t,primaryKey:s,manageClient:a,manageUser:r}){try{const c=e.submitter;if(debugLog(),"delete"===c.name){if(await a.deleteClient(parseInt(t,10),parseInt(s,10)))return{status:"success",type:"delete",msg:"Client deleted successfully."}}const i=Object.fromEntries(new FormData(e.target));if(i.horses=[],debugLog(),s){return await a.editClient(i,t,s)?(await setupBackupNotice({errorEleID:"backup-data-notice",manageUser:r}),{status:"success",type:"edit",msg:`${i.client_name} has been edited successfully.`}):{status:"error",type:"edit",msg:`An error occurred while editing ${i.client_name}.`}}{debugLog();const e=await a.addNewClient(i);return debugLog(),e?(await setupBackupNotice({errorEleID:"backup-data-notice",manageUser:r}),{status:"success",type:"add",msg:`${i.client_name} has been added successfully`}):{status:"error",type:"add",msg:`An error occurred while adding ${i.client_name}.`}}}catch(e){throw e}}