// @ts-nocheck
const COMPONENT="Add Edit Form Submission",DEBUG=!0,debugLog=(...e)=>{console.log(`[${COMPONENT}]`,...e)};export default async function addEditFormSubmission({evt:e,cID:t,primaryKey:s,manageClient:n}){try{const d=e.submitter;if(debugLog("Submitter: ",d),"delete"===d.name){if(await n.deleteClient(parseInt(t,10),parseInt(s,10)))return{status:"success",type:"delete",msg:"Client deleted successfully."}}const i=Object.fromEntries(new FormData(e.target));if(i.horses=[],debugLog("PrimaryKey: Editing a client if not undefined: ",s),s){return await n.editClient(i,t,s)?{status:"success",type:"edit",msg:`${i.client_name} has been edited successfully.`}:{status:"error",type:"edit",msg:`An error occurred while editing ${i.client_name}.`}}{debugLog("Adding a new client: ",i);const e=await n.addNewClient(i);return debugLog("Client Added: ",e),e?{status:"success",type:"add",msg:`${i.client_name} has been added successfully`}:{status:"error",type:"add",msg:`An error occurred while adding ${i.client_name}.`}}}catch(e){throw e}}