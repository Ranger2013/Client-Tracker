// @ts-nocheck
const COMPONENT="Add Edit Form Submission",DEBUG=!0,debugLog=(...e)=>{console.log(`[${COMPONENT}]`,...e)};export default async function addEditFormSubmission({evt:e,cID:t,primaryKey:s,manageClient:r}){try{const n=e.submitter;if(debugLog("Submitter: ",n),"delete"===n.name){if(await r.deleteClient(parseInt(t,10),parseInt(s,10)))return{status:"success",type:"delete",msg:"Client deleted successfully."}}const a=Object.fromEntries(new FormData(e.target));if(a.horses=[],debugLog("PrimaryKey: ",s),s){return await r.editClient(a,t,s)?{status:"success",type:"edit",msg:`${a.client_name} has been edited successfully.`}:{status:"error",type:"edit",msg:`An error occurred while editing ${a.client_name}.`}}return await r.addNewClient(a)?{status:"success",type:"add",msg:`${a.client_name} has been added successfully`}:{status:"error",type:"add",msg:`An error occurred while adding ${a.client_name}.`}}catch(e){throw e}}