// @ts-nocheck
import{checkForDuplicate}from"../../../../../auth/services/duplicateCheck.js";import{getValidElement}from"../../../../../core/utils/dom/elements.js";import{createDebouncedHandler,getOptimalDelay}from"../../../../../core/utils/dom/eventUtils.js";import{addListener,removeListeners}from"../../../../../core/utils/dom/listeners.js";import ManageClient from"../../../../client/models/ManageClient.js";import ManageUser from"../../../models/ManageUser.js";import{setActiveTab}from"../components/tabs/tabManager.js";import validateUsername from"./tabs/account-settings/components/validateUsername.js";const COMPONENT="User Account Page",DEBUG=!1,debugLog=(...e)=>{false};let cleanup=null;const COMPONENT_ID="user-account-page",manageUser=new ManageUser({debug:!1}),manageClient=new ManageClient({debug:!1});async function initializeTabEventHandlers(e){try{const t={"click:subscription-tab":async e=>{},"click:account-settings-tab":async t=>{const{default:a}=await import("../../../../../core/layout/user/pages/my-account/account-settings/buildAccountSettingsPage.js");return await a({tabContentContainer:e,manageUser:manageUser,componentId:COMPONENT_ID})},"click:client-stats-tab":async t=>{const{default:a}=await import("../../../../../core/layout/user/pages/my-account/client-stats/buildClientStatsPage.js");return await a({tabContentContainer:e,manageUser:manageUser,manageClient:manageClient,componentId:COMPONENT_ID})},"click:monthly-projections-tab":async t=>{const{default:a}=await import("../../../../../core/layout/user/pages/my-account/monthly-projections/buildMonthlyProjectionsPage.js");return await a({tabContentContainer:e,manageUser:manageUser,componentId:COMPONENT_ID})},"click:invoices-tab":async t=>{const{default:a}=await import("../../../../../core/layout/user/pages/my-account/invoices/buildInvoicesPage.js");return await a({tabContentContainer:e,manageUser:manageUser,componentId:COMPONENT_ID})}};addListener({elementOrId:"tab-container",eventType:"click",handler:async e=>{try{cleanup&&(cleanup(),cleanup=null),setActiveTab({evt:e,msgElement:"form-msg"});const a=`${e.type}:${e.target.id}`;t[a]&&(cleanup=await t[a](e))}catch(e){const{AppError:t}=await import("../../../../../core/errors/models/AppError.js");t.handleError(e,{errorCode:t.Types.RENDER_ERROR,message:t.BaseMessages.system.render,displayTarget:"tab-content-container"})}},componentId:COMPONENT_ID})}catch(e){const{AppError:t}=await import("../../../../../core/errors/models/AppError.js");t.handleError(e,{errorCode:t.Types.INITIALIZATION_ERROR,message:t.BaseMessages.system.initialization})}}!async function(){const e=getValidElement("tab-content-container");await initializeTabEventHandlers(e)}();