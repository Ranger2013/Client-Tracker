// @ts-nocheck
import IndexedDBOperations from"../../../classes/IndexedDBOperations.js";import errorLogs from"../../error-messages/errorLogs.js";import{ucwords}from"../../string/stringUtils.js";export default async function validateClientName({evt:e,cID:r,primaryKey:t}){try{if(""===e.target.value)return"Client Name cannot be empty.";const a=new IndexedDBOperations,o=await a.openDBPromise(),i=await a.getAllStorePromise(o,a.stores.CLIENTLIST);if(i?.length>0){if(i.some((a=>a.primaryKey!==t&&a.cID!==r&&a.client_name.trim().toUpperCase()===e.target.value.trim().toUpperCase())))return"Client Name already in use."}return e.target.value=ucwords(e.target.value),!1}catch(e){throw await errorLogs("validateClientNameError","Validate client name error: ",e),e}}