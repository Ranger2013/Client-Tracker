// @ts-nocheck
import{clearMsg}from"../utils/dom/domUtils.js";import{addListener}from"../utils/event-listeners/listeners.js";import{ucwords}from"../utils/string/stringUtils.js";import{checkForDuplicate,checkPasswordStrength,comparePasswords,formatPhone}from"../utils/validation/validationUtils.js";import{handleUserRegistration,getTerms}from"./helpers/registerUserHelpers.js";const errorElements=document.querySelectorAll('[id$="-error"]'),submitButton=document.getElementById("submit-button"),errorElementMap={};errorElements.forEach((e=>{errorElementMap[e.id]=e}));const DomElements={"first-name":[{type:"input",listener:function(){this.value=ucwords(this.value)}}],"last-name":[{type:"input",listener:function(){this.value=ucwords(this.value)}}],phone:[{type:"blur",listener:e=>checkForDuplicate(e,errorElementMap["phone-error"],"phone","users")},{type:"input",listener:e=>formatPhone(e,errorElementMap["phone-error"])},{type:"focus",listener:function(){clearMsg({container:errorElementMap["phone-error"],input:this})}}],email:[{type:"blur",listener:e=>checkForDuplicate(e,errorElementMap["email-error"],"email","users")},{type:"focus",listener:function(){clearMsg({container:errorElementMap["email-error"],input:this})}}],username:[{type:"blur",listener:e=>checkForDuplicate(e,errorElementMap["username-error"],"username","users")},{type:"focus",listener:function(){clearMsg({container:errorElementMap["username-error"],input:this})}}],password:[{type:"input",listener:e=>checkPasswordStrength(e,document.getElementById("password-strength-container"),document.getElementById("password-error"),submitButton)},{type:"focus",listener:e=>clearMsg({container:document.getElementById("password-error"),hide:!0,input:document.getElementById("password")})}],"confirm-password":[{type:"input",listener:e=>comparePasswords(e,"password",document.getElementById("confirm-password-error"),submitButton)},{type:"focus",listener:e=>clearMsg({container:document.getElementById("confirm-password-error"),hide:!0,input:document.getElementById("confirm-password")})}],terms:[{type:"click",listener:()=>getTerms("terms")}],privacy:[{type:"click",listener:()=>getTerms("privacy")}],"new-user-form":[{type:"submit",listener:handleUserRegistration}]};Object.keys(DomElements).forEach((e=>{DomElements[e].forEach((({element:r,type:t,listener:s})=>{const n=r||document.getElementById(e);n&&addListener(n,t,s)}))}));